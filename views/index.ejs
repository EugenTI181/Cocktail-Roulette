<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cocktail Recipes</title>
    <link rel="shortcut icon" type="image/png" href="/images/icons/icons8-cocktail-16.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat&family=DM+Sans:opsz@9..40&family=DM+Serif+Display&family=Freehand&family=Libre+Baskerville&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Sue+Ellen+Francisco&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bungee+Outline&family=Waterfall&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/styles/main.css">
</head>
    <body>
    <div class="container py-3">
    <header>
        <div class="pricing-header p-3 pb-md-4 mx-auto text-center">
        <h1>Cocktail Roulette</h1>
        <p class="fs-5">Spin for Random Drink Delights</p>
        <!-- When the button is accessed, the main page is reloaded. -->
        <button type="reset" id="refresh" onclick="window.location.href='/'">Spin</button>
        </div>
    </header>

    <main>
        <div class="image-container" id="image-container">
            <div id="white-square"></div>
        </div>
        <p class="fs-5" style="padding-top: 5px;">
            <!-- The title of the drink goes here -->
            <%= title %>
        </p>

        <div class="table-responsive table-container">
            <table>
                <tbody>
                        <td>
                            <h3>Ingredients</h3>
                            <ul>
                                <!-- Ingredients goes here if ingredient value is not null -->
                                <% drinks.forEach(function(drink) { %>
                                    <% for (var i = 1; i <= 15; i++) { %>
                                        <% var ingredientKey = 'strIngredient' + i; %>
                                        <% var ingredientValue = drink[ingredientKey]; %>
                                        <% if (ingredientValue !== null) { %>
                                            <li><%= ingredientValue %></li>
                                        <% } %>
                                    <% } %>
                                <% }) %>
                            </ul>
                        </td>
                        <td>
                            <h3>Measures</h3>
                            <ul>
                                <!-- Measures goes here if measure value is not null -->
                                <% drinks.forEach(function(drink) { %>
                                    <% for (var i = 1; i <= 15; i++) { %>
                                        <% var measureKey = 'strMeasure' + i; %>
                                        <% var measureValue = drink[measureKey]; %>
                                        <% if (measureValue !== null) { %>
                                            <li><%= measureValue %></li>
                                        <% } %>
                                    <% } %>
                                <% }) %>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <h3>Instructions</h3>
                            <ul>
                                <li>
                                    <!-- The instruction of the cocktail goes here -->
                                    <%= cocktail %>
                                </li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <h3>Type of Glass</h3>
                            <ul>
                                <li>
                                    <!-- The type of glass goes here -->
                                    <%= glass %>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>

    <footer class="pt-4 my-md-5 pt-md-5 border-top">
        <p>Â© 2024 Eugeniu Romanescu</p>
    </footer>
    </div>
    <script>
        // Wait 1.5 seconds and then change the color square to the real image
        setTimeout(() => {
            var imageContainer = document.getElementById('image-container');
            var whiteSquare = document.getElementById('white-square');
            
            // Change the color square to the real image
            whiteSquare.style.display = 'none'; // Hide the colored square
            imageContainer.innerHTML = '<img src="<%= image %>" alt="Cocktail Image">'; // Add the image
        }, 1500); // 1.5 seconds (1500 MILLISECONDS)
    </script>
    </body>
</html>
